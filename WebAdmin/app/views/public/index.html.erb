<div class="container mx-auto p-8 bg-gray-50 min-h-screen z-[10]">
    <h1 class="text-3xl font-bold mb-6 text-gray-800">Player List</h1>
    <div class="mb-6 flex flex-col md:flex-row gap-4 h-16">
        <input type="text" 
               id="searchInput" 
               data-controller="search"
               placeholder="Search players..." 
               value="<%= params[:search]%>"
               class="flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        >
        <div class="h-full relative flex-1" data-controller="dropdown">
            <div class="w-full flex flex-row items-center rounded-lg border border-gray-300 focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent h-full">
                <div
                    contenteditable="true"
                    class="px-4 py-2 w-full h-full resize-none overflow-y-auto"
                    data-dropdown-target="input"
                    data-action="click->dropdown#toggle"
                    placeholder="Click to select rank from dropdown"
                ></div>
            </div>
            <div 
                data-dropdown-target="menu"
                class="hidden absolute z-10 mt-1 w-full bg-white rounded-lg shadow-lg border border-gray-200 max-h-60 overflow-auto">
                <div class="py-1">
                    <% @ranks.each do |rank| %>
                    <button 
                        class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                        data-action="click->dropdown#add">
                        <%= rank %>
                    </button>
                    <% end %>
                </div>
            </div>
        </div>
    </div>
    <div class="overflow-x-auto rounded-lg shadow-lg">
        <%= render "players_table", players: @players %>
    </div>
</div>